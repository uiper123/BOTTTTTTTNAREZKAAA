# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ Google Colab

## –ü—Ä–æ–±–ª–µ–º–∞
–í Google Colab –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π `ffmpeg error` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–ø–æ–≤. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å GPU –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∞–º–∏ NVENC –≤ —Å—Ä–µ–¥–µ Colab.

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```python
exec(open('colab_setup.py').read())
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç ffmpeg-python
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç Whisper
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç PyTorch —Å CUDA
- ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç video_editor.py –¥–ª—è Colab
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç GPU –ø–æ–¥–¥–µ—Ä–∂–∫—É

### 2. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
```python
exec(open('colab_ffmpeg_fix.py').read())
```

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –í video_editor.py:
1. **–û—Ç–∫–ª—é—á–µ–Ω–∞ GPU –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CPU –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫
2. **–£–±—Ä–∞–Ω—ã hwaccel –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ Colab
3. **–£–ø—Ä–æ—â–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ultrafast` –ø—Ä–µ—Å–µ—Ç
4. **–£–±—Ä–∞–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –±–∏—Ç—Ä–µ–π—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:
```python
# –ë–´–õ–û (–ø—Ä–æ–±–ª–µ–º–Ω–æ–µ):
hwaccel='cuda', hwaccel_output_format='cuda'
vcodec='h264_nvenc', preset='fast', cq=18

# –°–¢–ê–õ–û (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ):
vcodec='libx264', preset='ultrafast', crf=23
```

## üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:
```
‚ùå GPU –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è Colab
üíª –ò—Å–ø–æ–ª—å–∑—É–µ–º CPU –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–ø–∞ 1
‚úÖ –ö–ª–∏–ø 1 —Å–æ–∑–¥–∞–Ω —Å CPU
```

## üìã –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ)

### 1. –ò—Å–ø—Ä–∞–≤—å—Ç–µ ffmpeg-python:
```bash
!pip uninstall -y ffmpeg ffmpeg-python
!pip install ffmpeg-python --upgrade
```

### 2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ Whisper:
```bash
!pip uninstall -y whisper openai-whisper
!pip install openai-whisper --upgrade --force-reinstall
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch —Å CUDA:
```bash
!pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ runtime –≤ Colab

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- `colab_setup.py` - –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `colab_ffmpeg_fix.py` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ffmpeg
- `colab_whisper_fix.py` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Whisper
- `colab_video_fix.py` - –ü–∞—Ç—á–µ—Ä –¥–ª—è video_editor.py

## ‚ö° –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚ö†Ô∏è –°–∫–æ—Ä–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ (CPU –≤–º–µ—Å—Ç–æ GPU)
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ runtime –≤ Colab
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `colab_setup.py` —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ Colab
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –í–µ—Ä—Å–∏—é Python (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 3.8+)
- –î–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (–Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2GB)
- –ß—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ Colab